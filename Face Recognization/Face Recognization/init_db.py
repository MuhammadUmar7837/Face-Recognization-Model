import sqlite3
import os

# Define the path to the SQLite database
db_path = os.path.join(os.path.dirname(__file__), 'db.sqlite3')
conn = sqlite3.connect(db_path)
cursor = conn.cursor()

# Create known_faces table with Admin column if it doesn't exist
cursor.execute('''
    CREATE TABLE IF NOT EXISTS known_faces (
        name TEXT,
        face_encoding TEXT,
        Admin INTEGER DEFAULT 0
    )
''')

# Insert data (including Admin column)
try:
    cursor.execute('''
        INSERT INTO known_faces (name, face_encoding, Admin) VALUES (?, ?, ?)
    ''', ('Tony Stark', '-0.07126425206661224,0.0590021014213562,0.12202923744916916,-0.01875458098948002,-0.03495382145047188,-0.08043120801448822,-0.02735641412436962,-0.08624354749917984,0.043706171214580536,-0.08724306523799896,0.1819971650838852,-0.02474275976419449,-0.289388507604599,0.036894790828228,0.004895162768661976,0.11231833696365356,-0.20400521159172058,0.0037469910457730293,-0.11761905997991562,-0.03453705459833145,0.0038333297707140446,0.10513852536678314,0.12453462183475494,0.00409944262355566,-0.05604476481676102,-0.3524087369441986,-0.14160804450511932,-0.03349273279309273,0.1041451096534729,-0.09401638805866241,-0.023219171911478043,-0.018105288967490196,-0.11729439347982407,-0.04801660776138306,0.0683119148015976,0.04501551017165184,-0.04013131931424141,-0.07474808394908905,0.17610172927379608,0.12671341001987457,-0.14763794839382172,0.025724954903125763,0.006711003370583057,0.34935227036476135,0.215221107006073,0.11057721078395844,0.034381892532110214,-0.0950821042060852,0.061675697565078735,-0.2424824982881546,0.13791733980178833,0.08484368026256561,0.04686266556382179,0.028976745903491974,0.13349619507789612,-0.20353193581104279,0.038310304284095764,0.15402407944202423,-0.14756907522678375,0.12054524570703506,0.10959501564502716,0.02196420170366764,0.07594837993383408,0.03042580746114254,0.13963806629180908,0.016914013773202896,-0.14427463710308075,-0.08425143361091614,0.06676259636878967,-0.1557285040616989,0.006356197874993086,0.04519537091255188,-0.11349266022443771,-0.15150520205497742,-0.23225077986717224,-0.017787856981158257,0.42205703258514404,0.11472685635089874,-0.16930802166461945,-0.04971986263990402,-0.06341560184955597,-0.09154077619314194,0.13873291015625,0.12081780284643173,-0.08770154416561127,-0.0197586752474308,-0.08877360075712204,0.032327353954315186,0.14577725529670715,0.016561679542064667,-0.05327146127820015,0.2536449730396271,-0.02097863145172596,-0.03615345433354378,0.06413833796977997,0.02921203337609768,-0.18911471962928772,-0.021483654156327248,-0.12734416127204895,-0.11865926533937454,0.02879924699664116,-0.16556479036808014,-0.03366978466510773,0.1291733980178833,-0.2533726990222931,0.22838719189167023,0.00015188846737146378,-0.036149658262729645,0.04835518077015877,-0.01866922341287136,-0.12495166063308716,0.028877215459942818,0.18589867651462555,-0.2549707293510437,0.15487277507781982,0.2861484885215759,0.03396467864513397,0.09912274777889252,0.038747791200876236,0.034033432602882385,0.009316297248005867,0.05482065677642822,-0.1396399736404419,-0.07048813253641129,-0.02759166806936264,-0.035273823887109756,0.0771704912185669,-0.013746887445449829', 0))

    cursor.execute('''
        INSERT INTO known_faces (name, face_encoding, Admin) VALUES (?, ?, ?)
    ''', ('Khizar Ahmad', '-0.10653427243232727,0.0736164003610611,0.11089664697647095,0.013570268638432026,0.023181797936558723,-0.08510397374629974,0.004682389087975025,-0.028031781315803528,0.14294205605983734,-0.03563816100358963,0.23235835134983063,0.017541807144880295,-0.11325938999652863,-0.14793935418128967,0.11759084463119507,0.1163640096783638,-0.20783694088459015,-0.07354782521724701,-0.05802829563617706,-0.029446657747030258,0.048508577048778534,0.06681159883737564,0.061434969305992126,0.07219391316175461,-0.07572361826896667,-0.449773907661438,-0.09522068500518799,-0.16215720772743225,0.13823457062244415,-0.0986173152923584,-0.0336194708943367,-0.024179933592677116,-0.22225187718868256,-0.036167606711387634,-0.03947143256664276,0.01129455678164959,0.07841131091117859,-0.06696963310241699,0.20420244336128235,0.0523814782500267,-0.1953500211238861,-0.003907631617039442,-0.020259607583284378,0.2617061138153076,0.17084045708179474,0.02703828178346157,0.007421025075018406,0.003539249300956726,0.08221916109323502,-0.16458892822265625,0.09101890027523041,0.10369343310594559,0.10806316137313843,0.02331480011343956,0.03650573641061783,-0.11706161499023438,-0.003445761278271675,-0.030016925185918808,-0.264522522687912,0.02711903303861618,0.06655171513557434,-0.02413751557469368,0.004706466570496559,-0.009630057029426098,0.20769374072551727,0.06880636513233185,-0.09771069139242172,-0.12373274564743042,0.04162633419036865,-0.18838779628276825,0.0357382632791996,0.029969993978738785,-0.10176566243171692,-0.14174048602581024,-0.2995559275150299,0.09894367307424545,0.3549666702747345,0.13125523924827576,-0.2467207908630371,0.0041931611485779285,-0.17228059470653534,-0.0799591988325119,0.1135646179318428,0.09484770148992538,-0.022027429193258286,0.05746028572320938,-0.12265334278345108,0.04908046871423721,0.12289050221443176,0.018365848809480667,-0.0025206804275512695,0.23786157369613647,-0.0269059669226408,0.03719836473464966,-0.012155882082879543,0.015573457814753056,-0.10987423360347748,0.023705974221229553,-0.061946894973516464,0.02298920601606369,0.015913084149360657,-0.0064914897084236145,0.0072189811617136,0.10707781463861465,-0.2044900357723236,0.14695902168750763,0.04092535749077797,-0.062034204602241516,0.04380156099796295,0.07898565381765366,-0.14746013283729553,-0.15111196041107178,0.08216772973537445,-0.2118644118309021,0.16764485836029053,0.17789284884929657,0.0011833962053060532,0.17000027000904083,0.0016722315922379494,0.1308533400297165,-0.07004596292972565,-0.009820693172514439,-0.14425241947174072,0.0008781368960626423,0.058165498077869415,-0.000742088072001934,0.05743330717086792,0.013164365664124489', 1))

    conn.commit()
    print("SQLite database and known_faces table created successfully.")
except Exception as e:
    print(f"Error inserting data: {e}")
finally:
    conn.close()